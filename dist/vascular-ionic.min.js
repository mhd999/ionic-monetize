!function(e){e.module("vascularIonic.config",[]).value("vascularIonic.config",{debug:!0}),e.module("vascularIonic.directives",[]),e.module("vascularIonic.services",[]),e.module("vascularIonic",["vascularIonic.config","vascularIonic.directives","vascularIonic.services"])}(angular),function(e){"use strict";function n(e,n,t){function o(e,n){if(a(e.id),""!=e.data|void 0|null){var o=n;return t.$broadcast("vascularMonetize:didReceiveAcoupon",o),alert(e.message),void 0}alert(e)}function a(n){var t=window.btoa(r.appId+":"+r.appKey);e({method:"POST",url:u+"stats/notifications",data:{notification:n},headers:{Authorization:"Basic "+t,"X-Vascular-User":r.userId,"Content-Type":"application/json"}})}function i(n,t){var o=window.btoa(r.appId+":"+r.appKey);e({method:"PUT",url:u+"users/"+n+"/segments",data:t,headers:{Authorization:"Basic "+o,"Content-Type":"application/json"}})}var c={},r={},u="https://secure-cove-77478.herokuapp.com/api/v1/",s="WyaF2GqmcXXqat3Q";return c.init=function(e){function n(){var e=-1===document.URL.indexOf("http://")&&-1===document.URL.indexOf("https://");e&&$timeout(function(){var e=cordova.require("cordova/plugin/plot"),n={publicKey:s,cooldownPeriod:-1,enableOnFirstRun:!0};e.notificationHandler=function(e,n){o(e,n)},e.init(n)},500)}r.appId=e.appId,r.appKey=e.appKey,r.userId=e.userId,document.addEventListener("deviceready",n,!0)},c.getIds=function(n){var t=window.btoa(r.appId+":"+r.appKey);e({method:"POST",url:u+"users",headers:{Authorization:"Basic "+t,"Content-Type":"application/json"}}).success(function(e){n(e)}).error(function(e){n(e)})},c.setAgeSegment=function(e,n){plot.setDateSegmentationProperty("age",n.yearOfBirth,function(){i(e,n)})},c.setGenderSegment=function(e,n){plot.setStringSegmentationProperty("gender",n.gender,function(){i(e,n)})},c.setOsSegment=function(e,n){plot.setStringSegmentationProperty("os",n.os,function(){i(e,n)})},c.disable=function(){plot.disable()},c.enable=function(){plot.enable()},c.getUserInbox=function(n){var t=window.btoa(r.appId+":"+r.appKey);e({method:"GET",url:u+"users/"+r.userId+"/inbox",headers:{Authorization:"Basic "+t}}).success(function(e){n(e)}).catch(function(e){n(e)})},c}e.module("vascularIonic.services",[]).factory("vascular",n),n.$inject=["$http","$q","$rootScope"]}(angular);